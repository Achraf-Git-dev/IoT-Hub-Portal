@using AzureIoTHub.Portal.Shared.Security;
@inject AuthenticationStateProvider AuthenticationStateProvider

@code{
    AuthenticationState authenticationState = null;

    protected override async Task OnInitializedAsync()
    {

        var authenticationState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
    }
}

<div class="sidebar" data-color="azure">
    <div class="logo">
        <span class="simple-text logo-normal">
            Azure IoT Hub Portal
        </span>
    </div>
    <div class="sidebar-wrapper ps-container ps-theme-default">
        <ul class="nav">
            <li class="nav-item active  ">
                <NavLink class="nav-link" href="" Match="NavLinkMatch.All">
                    <i class="material-icons">dashboard</i>
                    <p>Dashboard</p>
                </NavLink>
            </li>
            @if (authenticationState != null && authenticationState.User.IsInRole(RoleNames.Admin))
            {
                <li class="nav-item ">
                    <NavLink class="nav-link" href="users">
                        <i class="material-icons">people</i>
                        <p>Users</p>
                    </NavLink>
                </li>
            }
            <li class="nav-item ">
                <NavLink class="nav-link" href="devices">
                    <i class="material-icons">devices_other</i>
                    <p>Devices</p>
                </NavLink>
            </li>
        </ul>
        <div class="ps-scrollbar-x-rail" style="left: 0px; bottom: 0px;"><div class="ps-scrollbar-x" tabindex="0" style="left: 0px; width: 0px;"></div></div><div class="ps-scrollbar-y-rail" style="top: 0px; right: 0px;"><div class="ps-scrollbar-y" tabindex="0" style="top: 0px; height: 0px;"></div></div>
    </div>
</div>
